{% extends 'layouts/base.html' %}

{% block title %}Regístrate{% endblock title %}

{% block content %}
    <form action="" method="POST" class="container border rounded shadow p-4 pt-2 mt-5 bg-white" style="max-width: 500px;">
        <h1 class="display-4 text-center">Regístrate</h1>
        {{ form.csrf_token }}

        <div class="form-group my-3">
            {{ form.username.label }}
            {{ form.username(class="form-control", placeholder="Nombre de Usuario...") }}

            {% if form.username.errors %}
                {% for e in form.username.errors %}
                    <div class="alert alert-danger py-1 mt-1">
                        {{ e }}
                    </div>
                {% endfor %}
            {% endif %}

            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    <ul style="list-style: none;" class="p-0">
                        {% for m in messages %}
                            <li class="alert alert-danger">{{ m }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            {% endwith %}
        </div>

        <div class="form-group my-3">
            {{ form.password.label }}
            {{ form.password(class="form-control", placeholder="Contraseña...") }}
        
            {% if form.password.errors %}
                {% for e in form.password.errors %}
                    <div class="alert alert-danger py-1 mt-1">
                        {{ e }}
                    </div>
                {% endfor %}
            {% endif %}
        </div>

        <div class="form-group my-3">
            {{ form.confirm.label }}
            {{ form.confirm(class="form-control", placeholder="Confirmar contraseña...") }}
        
            {% if form.confirm.errors %}
                {% for e in form.confirm.errors %}
                    <div class="alert alert-danger py-1 mt-1">
                        {{ e }}
                    </div>
                {% endfor %}
            {% endif %}
        </div>

        <input type="submit" class="btn btn-primary" value="Registrate">
    </form>
{% endblock content %}